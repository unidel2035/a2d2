# DronDoc 2025

## Описание проекта

**DronDoc 2025** - это комплексная система управления документацией и полетными данными беспилотных летательных аппаратов (БПЛА). Платформа предназначена для организаций, занимающихся эксплуатацией дронов в коммерческих и промышленных целях.

### Основное назначение

Система обеспечивает:
- Централизованное хранение и управление технической документацией БПЛА
- Ведение полетных журналов с автоматической регистрацией данных телеметрии
- Управление техническим обслуживанием и планирование регламентных работ
- Создание и хранение инспекционных отчетов с фото/видео материалами
- Учет операторов, их квалификаций и налета часов
- Формирование аналитических отчетов и визуализацию данных
- Соответствие требованиям регулирующих органов (Росавиация, ГОСТ)

## Технологический стек

### Backend
- **Ruby**: 3.3.6
- **Rails**: 8.1.0
- **Database**: SQLite3 (для разработки), PostgreSQL (для production)

### Frontend
- HTML5, CSS3
- JavaScript (ES6+)
- Turbo (для SPA-подобного взаимодействия)
- Stimulus.js (для JavaScript контроллеров)

### Инфраструктура
- **Deployment**: Kamal 2.8.1 (для контейнеризованного развертывания)
- **Web Server**: Puma 7.1.0
- **Asset Pipeline**: Propshaft
- **Background Jobs**: Solid Queue

## Требования к системе

### Минимальные требования
- Ruby 3.3.6 или выше
- Rails 8.1.0
- SQLite3 (для разработки)
- Node.js 18+ (для сборки ассетов)
- Git

### Рекомендуемые требования
- PostgreSQL 14+ (для production)
- Redis 7+ (для кэширования и очередей)
- 4GB RAM
- 10GB свободного места на диске

## Установка и запуск

### 1. Клонирование репозитория

```bash
git clone https://github.com/unidel2035/a2d2.git
cd a2d2
```

### 2. Установка зависимостей

```bash
# Установка Ruby gems
bundle install

# Установка JavaScript зависимостей
npm install
```

### 3. Настройка базы данных

```bash
# Создание базы данных
bin/rails db:create

# Запуск миграций
bin/rails db:migrate

# Загрузка тестовых данных (опционально)
bin/rails db:seed
```

### 4. Запуск приложения

```bash
# Запуск development сервера
bin/dev

# Или используйте:
bin/rails server
```

Приложение будет доступно по адресу: `http://localhost:3000`

## Структура проекта

```
a2d2/
├── app/
│   ├── controllers/      # Контроллеры приложения
│   ├── models/          # Модели данных
│   ├── views/           # Представления (шаблоны)
│   ├── helpers/         # Вспомогательные методы
│   ├── jobs/            # Фоновые задачи
│   └── mailers/         # Почтовые сервисы
├── config/              # Конфигурация приложения
├── db/                  # База данных и миграции
├── public/              # Статические файлы
├── test/                # Тесты
├── Gemfile              # Ruby зависимости
└── README.md           # Документация
```

## Основные функциональные модули

### 1. Управление дронами
- Регистрация БПЛА в системе
- Хранение технических характеристик
- Учет серийных номеров и идентификаторов
- Статус дрона (в эксплуатации, на обслуживании, списан)

### 2. Документация
- Технические паспорта
- Сертификаты соответствия
- Инструкции по эксплуатации
- Версионирование документов
- Поиск и фильтрация

### 3. Полетные операции
- Планирование полетов
- Регистрация полетных заданий
- Автоматическая загрузка данных телеметрии
- Журнал полетов
- Привязка к геолокации

### 4. Техническое обслуживание
- График регламентных работ
- Учет выполненных ТО
- История замены компонентов
- Уведомления о предстоящем обслуживании
- Статистика наработки

### 5. Инспекции
- Создание инспекционных заданий
- Загрузка фото и видео материалов
- Геопривязка результатов
- Формирование отчетов
- Экспорт данных

### 6. Управление персоналом
- Реестр операторов
- Квалификации и сертификаты
- Налет часов
- Права доступа
- История полетов оператора

### 7. Аналитика и отчеты
- Статистика использования дронов
- Графики налета и загруженности
- Отчеты по инспекциям
- Финансовая аналитика
- Экспорт в различные форматы

## Разработка

### Запуск тестов

```bash
# Запуск всех тестов
bin/rails test

# Запуск конкретного теста
bin/rails test test/controllers/home_controller_test.rb
```

### Code Style

Проект использует RuboCop для проверки стиля кода:

```bash
# Проверка кода
bin/rubocop

# Автоматическое исправление
bin/rubocop -A
```

### Проверка безопасности

```bash
# Проверка известных уязвимостей в зависимостях
bin/bundler-audit

# Статический анализ безопасности кода
bin/brakeman
```

## Развертывание

### Production с Kamal

```bash
# Первоначальная настройка
kamal setup

# Развертывание
kamal deploy

# Просмотр логов
kamal app logs
```

### Environment Variables

Создайте файл `.env` с необходимыми переменными окружения:

```bash
DATABASE_URL=postgresql://user:password@localhost/dronedoc_production
SECRET_KEY_BASE=your_secret_key
RAILS_ENV=production
```

## API Документация

API будет доступен для интеграции с внешними системами (GPS трекеры, телеметрические системы, мобильные приложения).

Документация API будет доступна по адресу: `/api/docs`

## Безопасность

- Все данные передаются по HTTPS
- Аутентификация пользователей через Devise
- Ролевая модель доступа (RBAC)
- Шифрование чувствительных данных
- Регулярные аудиты безопасности
- Соответствие требованиям защиты персональных данных (152-ФЗ)

## Лицензия

Проприетарное программное обеспечение. Все права защищены.

## Контакты

- **Проект**: [https://github.com/unidel2035/a2d2](https://github.com/unidel2035/a2d2)
- **Документация**: [Wiki проекта](https://github.com/unidel2035/a2d2/wiki)
- **Issues**: [GitHub Issues](https://github.com/unidel2035/a2d2/issues)

## Дорожная карта

### Версия 1.0 (Q1 2025)
- [x] Базовая структура приложения
- [ ] Модуль управления дронами
- [ ] Модуль документации
- [ ] Полетные журналы
- [ ] Основная аутентификация

### Версия 1.5 (Q2 2025)
- [ ] Мобильное приложение
- [ ] API для интеграций
- [ ] Автоматическая загрузка телеметрии
- [ ] Продвинутая аналитика

### Версия 2.0 (Q3 2025)
- [ ] Интеграция с картографическими сервисами
- [ ] AI-анализ инспекционных данных
- [ ] Облачное хранилище медиа
- [ ] Многопользовательский режим реального времени

## Поддержка

При возникновении вопросов или проблем создавайте issue в GitHub репозитории проекта.

---

**DronDoc 2025** - Управление дронами нового поколения

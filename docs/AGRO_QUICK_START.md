# –ö–æ–¥ –£—Ä–æ–∂–∞—è - –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

## –ß—Ç–æ —ç—Ç–æ?

**–ö–æ–¥ –£—Ä–æ–∂–∞—è** (Harvest Code) - —ç—Ç–æ —Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≥—Ä–æ–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–º –∫–æ–º–ø–ª–µ–∫—Å–æ–º —Å –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤ A2D2.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ **9 —Ç–∏–ø–æ–≤ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤** (—Ñ–µ—Ä–º–µ—Ä—ã, –ª–æ–≥–∏—Å—Ç–∏–∫–∞, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, –∏ –¥—Ä.)
- üèóÔ∏è **–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (IoT, –º–∏–∫—Ä–æ/–º–µ–∑–æ-—ç–∫–æ–Ω–æ–º–∏–∫–∞, –º–∞–∫—Ä–æ-—É—Ä–æ–≤–µ–Ω—å)
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è** –∑–∞–¥–∞—á –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏
- üìä **–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å** –¥–ª—è —Å–≤–µ–¥–µ–Ω–∏—è —Å–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- üìù **–°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã** –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- üß† **LLM-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- üåæ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–µ—Ä–º–∞–º–∏**, –ø–æ—Å–µ–≤–∞–º–∏ –∏ —Ç–µ—Ö–Ω–∏–∫–æ–π
- üöõ **–õ–æ–≥–∏—Å—Ç–∏–∫–∞** –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–æ–∫
- üè≠ **–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞** –ø—Ä–æ–¥—É–∫—Ü–∏–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∫–∞—á–µ—Å—Ç–≤–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
bin/rails db:migrate
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ seed –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
bin/rails runner 'load "db/seeds/agro_platform_seeds.rb"'
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Rails console:

```bash
bin/rails console
```

```ruby
# –°–æ–∑–¥–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞-—Ñ–µ—Ä–º–µ—Ä–∞
farmer = AgroAgent.create!(
  name: "–ê–≥—Ä–æ-–•–æ–∑—è–π—Å—Ç–≤–æ '–£—Ä–æ–∂–∞–π'",
  agent_type: 'farmer',
  level: 'micro_meso',
  status: 'active',
  capabilities: ['data_collection', 'analysis', 'monitoring', 'prediction']
)

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–µ—Ä–º—ã
farm = Farm.create!(
  name: "–§–µ—Ä–º–∞ '–ó–æ–ª–æ—Ç–æ–µ –ø–æ–ª–µ'",
  farm_type: 'crop',
  area: 1000.0,
  location: "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π",
  agro_agent: farmer
)

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å–µ–≤–∞
Crop.create!(
  farm: farm,
  crop_type: 'wheat',
  area_planted: 500.0,
  expected_yield: 2500.0,
  planting_date: Date.current - 60.days,
  harvest_date: Date.current + 30.days,
  status: 'growing'
)
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
bin/dev
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:3000/agro

## –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

| –ú–∞—Ä—à—Ä—É—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/agro` | –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| `/agro/ecosystem` | –û–±–∑–æ—Ä —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –∞–≥–µ–Ω—Ç–æ–≤ |
| `/agro/monitoring` | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–∞—á –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–π |
| `/agro_agents` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ |
| `/farms` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–µ—Ä–º–∞–º–∏ |
| `/market_offers` | –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (—Å–ø—Ä–æ—Å/–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ) |
| `/smart_contracts` | –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã |
| `/agro_tasks` | –ó–∞–¥–∞—á–∏ –∞–≥–µ–Ω—Ç–æ–≤ |

## –¢–∏–ø—ã –∞–≥–µ–Ω—Ç–æ–≤

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ |
|-----|----------|-------------|
| `farmer` | –§–µ—Ä–º–µ—Ä—Å–∫–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–µ–≤–∞–º–∏, —Ç–µ—Ö–Ω–∏–∫–æ–π, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `logistics` | –õ–æ–≥–∏—Å—Ç–∏–∫–∞ | –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ |
| `processor` | –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ | –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ, –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ |
| `retailer` | –†–∏—Ç–µ–π–ª | –ü—Ä–æ–¥–∞–∂–∞ –∫–æ–Ω–µ—á–Ω—ã–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º |
| `marketplace` | –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å | –°–≤–µ–¥–µ–Ω–∏–µ —Å–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è |
| `warehouse` | –°–∫–ª–∞–¥ | –•—Ä–∞–Ω–µ–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∞—Å–∞–º–∏ |
| `equipment_operator` | –û–ø–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Ö–Ω–∏–∫–∏ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–µ—Å–ø–∏–ª–æ—Ç–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π |
| `regulator` | –†–µ–≥—É–ª—è—Ç–æ—Ä | –ö–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ |
| `analytics` | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ | –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ |

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

```ruby
orchestrator = AgroOrchestrator.new

# –ê–Ω–∞–ª–∏–∑ —Ñ–µ—Ä–º—ã
result = orchestrator.assign_task(
  'analysis',
  { farm_id: 1 },
  priority: 'high'
)
# => { success: true, task_id: 5, agent_id: 1 }
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã

```ruby
orchestrator = AgroOrchestrator.new
status = orchestrator.monitor_ecosystem

# => {
#   total_agents: 5,
#   active_agents: 5,
#   online_agents: 4,
#   offline_agents: [...],
#   pending_tasks: 10,
#   active_coordinations: 2
# }
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

```ruby
# –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–∞—Ç—å –ø—à–µ–Ω–∏—Ü—É
MarketOffer.create!(
  agro_agent_id: farmer.id,
  offer_type: 'supply',
  product_type: 'wheat',
  quantity: 1000.0,
  unit: 'tons',
  price_per_unit: 15000.0,
  valid_until: 30.days.from_now
)

# –°–ø—Ä–æ—Å –Ω–∞ –ø—à–µ–Ω–∏—Ü—É
MarketOffer.create!(
  agro_agent_id: processor.id,
  offer_type: 'demand',
  product_type: 'wheat',
  quantity: 500.0,
  unit: 'tons',
  price_per_unit: 16000.0,
  valid_until: 15.days.from_now
)

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å-–∞–≥–µ–Ω—Ç–∞
marketplace_agent = AgroAgent.find_by(agent_type: 'marketplace')
task = marketplace_agent.agro_tasks.create!(
  task_type: 'coordination',
  input_data: { product_type: 'wheat', action: 'match_offers' }
)

AgroTaskExecutionJob.perform_later(task.id)
```

### –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏

```ruby
orchestrator = AgroOrchestrator.new

# Workflow: —Å–±–æ—Ä —É—Ä–æ–∂–∞—è -> —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -> –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞
result = orchestrator.coordinate_workflow(
  'workflow',
  [farmer_agent.id, logistics_agent.id, processor_agent.id],
  {
    steps: [
      { task_type: 'execution', input: { action: 'harvest', crop_id: 1 } },
      { task_type: 'coordination', input: { action: 'transport', from: 'farm', to: 'processor' } },
      { task_type: 'execution', input: { action: 'process', product: 'wheat' } }
    ]
  }
)
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM

–ê–≥–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç LLM –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–ª—é—á–∏ API –¥–ª—è LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ `.env`:

```bash
OPENAI_API_KEY=your_key_here
ANTHROPIC_API_KEY=your_key_here
# –∏ —Ç.–¥.
```

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è LLM –≤ –∞–≥–µ–Ω—Ç–∞—Ö:

1. **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–∂–∞—è** (FarmerAgent)
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤** (LogisticsAgent)
3. **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞** (ProcessorAgent)
4. **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω** (MarketplaceAgent)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    AgroOrchestrator                         ‚îÇ
‚îÇ                  (–ú–µ—Ç–∞-—Å–ª–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏)                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                   ‚îÇ                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   IoT Layer   ‚îÇ  ‚îÇ  Micro/Meso   ‚îÇ  ‚îÇ  Macro Level  ‚îÇ
‚îÇ               ‚îÇ  ‚îÇ               ‚îÇ  ‚îÇ               ‚îÇ
‚îÇ - Equipment   ‚îÇ  ‚îÇ - Farmers     ‚îÇ  ‚îÇ - Industries  ‚îÇ
‚îÇ - Sensors     ‚îÇ  ‚îÇ - Logistics   ‚îÇ  ‚îÇ - Retail      ‚îÇ
‚îÇ - Drones      ‚îÇ  ‚îÇ - Processors  ‚îÇ  ‚îÇ - Energy      ‚îÇ
‚îÇ - Telemetry   ‚îÇ  ‚îÇ - Marketplace ‚îÇ  ‚îÇ - Cross-region‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
app/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ agro_agent.rb              # –ú–æ–¥–µ–ª—å –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ agro_task.rb               # –ú–æ–¥–µ–ª—å –∑–∞–¥–∞—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ farm.rb                    # –ú–æ–¥–µ–ª—å —Ñ–µ—Ä–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ crop.rb                    # –ú–æ–¥–µ–ª—å –ø–æ—Å–µ–≤–∞
‚îÇ   ‚îú‚îÄ‚îÄ equipment.rb               # –ú–æ–¥–µ–ª—å —Ç–µ—Ö–Ω–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ logistics_order.rb         # –ú–æ–¥–µ–ª—å –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–∫–∞–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ processing_batch.rb        # –ú–æ–¥–µ–ª—å –ø–∞—Ä—Ç–∏–∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ market_offer.rb            # –ú–æ–¥–µ–ª—å —Ä—ã–Ω–æ—á–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ smart_contract.rb          # –ú–æ–¥–µ–ª—å —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ agent_coordination.rb      # –ú–æ–¥–µ–ª—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ agro_orchestrator.rb       # –°–µ—Ä–≤–∏—Å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ agro_agents/
‚îÇ       ‚îú‚îÄ‚îÄ base_agro_agent.rb     # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∞–≥–µ–Ω—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ farmer_agent.rb        # –ê–≥–µ–Ω—Ç —Ñ–µ—Ä–º–µ—Ä–∞
‚îÇ       ‚îú‚îÄ‚îÄ logistics_agent.rb     # –ê–≥–µ–Ω—Ç –ª–æ–≥–∏—Å—Ç–∏–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ processor_agent.rb     # –ê–≥–µ–Ω—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ marketplace_agent.rb   # –ê–≥–µ–Ω—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ agro_platform_controller.rb    # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ agro_agents_controller.rb      # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ agro_tasks_controller.rb       # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ farms_controller.rb            # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ñ–µ—Ä–º
‚îÇ   ‚îî‚îÄ‚îÄ market_offers_controller.rb    # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
‚îú‚îÄ‚îÄ jobs/
‚îÇ   ‚îî‚îÄ‚îÄ agro_task_execution_job.rb     # Job –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
‚îî‚îÄ‚îÄ views/
    ‚îî‚îÄ‚îÄ agro_platform/
        ‚îî‚îÄ‚îÄ index.html.erb             # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

db/
‚îî‚îÄ‚îÄ migrate/
    ‚îî‚îÄ‚îÄ 20251028203000_create_agro_platform_tables.rb
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
bin/rails test
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤

```ruby
# –í Rails console
farmer = AgroAgent.find_by(agent_type: 'farmer')
service = AgroAgents::FarmerAgent.new(farmer)

task = farmer.agro_tasks.create!(
  task_type: 'analysis',
  input_data: { farm_id: 1 }
)

result = service.execute_task(task)
# => { status: 'success', data: {...} }
```

## Troubleshooting

### –ê–≥–µ–Ω—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–∞: `agent.status == 'active'`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ capabilities: `agent.capability_list`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ heartbeat: `agent.online?`

### –ó–∞–¥–∞—á–∏ –∑–∞—Å—Ç—Ä–µ–≤–∞—é—Ç –≤ pending

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ Solid Queue: `bin/dev` (–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ `bin/rails s`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f log/development.log`

### LLM –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ API –∫–ª—é—á–µ–π –≤ `.env`
2. –ê–≥–µ–Ω—Ç—ã –∏–º–µ—é—Ç fallback –Ω–∞ rule-based –ª–æ–≥–∏–∫—É

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–∑—É—á–∏—Ç–µ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: `docs/AGRO_PLATFORM.md`
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤ –∏ –∑–∞–¥–∞—á–∏
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
4. –†–∞—Å—à–∏—Ä—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–≥–µ–Ω—Ç–æ–≤

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues: https://github.com/unidel2035/a2d2/issues
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/AGRO_PLATFORM.md`
- –û—Å–Ω–æ–≤–Ω–æ–π README: `README.md`

---

**–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É "–ö–æ–¥ –£—Ä–æ–∂–∞—è"!** üåæü§ñ

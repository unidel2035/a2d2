<!DOCTYPE html>
<html data-theme="light">
  <head>
    <title>Theme Generator - daisyUI</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.14/dist/full.min.css" rel="stylesheet" type="text/css" />
    <%= javascript_importmap_tags %>
    <style>
      /* Custom styles for the theme generator */
      .sidebar {
        width: 280px;
        height: 100vh;
        position: fixed;
        left: 0;
        top: 0;
        overflow-y: auto;
        border-right: 1px solid hsl(var(--bc) / 0.1);
      }

      .main-content {
        margin-left: 280px;
        min-height: 100vh;
      }

      .color-input-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.5rem;
      }

      .color-preview {
        width: 40px;
        height: 40px;
        border-radius: 0.5rem;
        border: 2px solid hsl(var(--bc) / 0.2);
        cursor: pointer;
      }

      input[type="color"] {
        width: 40px;
        height: 40px;
        border: none;
        cursor: pointer;
      }

      .css-output {
        background: hsl(var(--b3));
        border: 1px solid hsl(var(--bc) / 0.2);
        border-radius: 0.5rem;
        padding: 1rem;
        font-family: 'Courier New', monospace;
        font-size: 0.875rem;
        line-height: 1.5;
        max-height: 400px;
        overflow-y: auto;
      }

      .component-preview {
        padding: 2rem;
        background: hsl(var(--b2));
        border-radius: 0.5rem;
        margin-bottom: 1rem;
      }

      .range-input {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .theme-select-option {
        padding: 0.5rem;
        cursor: pointer;
      }

      .theme-select-option:hover {
        background: hsl(var(--b2));
      }
    </style>
  </head>

  <body class="bg-base-100">
    <!-- Left Sidebar -->
    <aside class="sidebar bg-base-100">
      <div class="p-4">
        <!-- Logo -->
        <div class="mb-6">
          <%= link_to root_path, class: "text-2xl font-bold" do %>
            <span class="text-primary">daisy</span><span class="text-secondary">UI</span>
          <% end %>
          <div class="text-xs text-base-content/60 mt-1">5.3.10</div>
        </div>

        <!-- Navigation Links -->
        <div class="menu text-sm">
          <li class="menu-title">Documentation</li>
          <li><a href="https://daisyui.com/docs/changelog/" target="_blank">Changelog</a></li>
          <li><a href="https://github.com/saadeghi/daisyui/releases" target="_blank">Release notes</a></li>
          <li><a href="https://daisyui.com/docs/version/" target="_blank">Version archives</a></li>

          <li class="menu-title mt-4">Resources</li>
          <li><a href="https://github.com/saadeghi/daisyui/discussions/3641" target="_blank">Roadmap</a></li>

          <li class="menu-title mt-4">Design</li>
          <%= link_to components_path, class: "btn btn-sm btn-ghost justify-start" do %>
            Components
          <% end %>
          <li><a href="https://daisyui.com/templates/" target="_blank">Templates</a></li>
          <li><a href="https://daisyui.com/figma/" target="_blank">Figma library</a></li>

          <li class="menu-title mt-4 text-primary font-bold">Theme Generator</li>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="container mx-auto p-6 max-w-7xl">
        <!-- Header -->
        <div class="mb-8">
          <h1 class="text-4xl font-bold mb-2">Theme Generator</h1>
          <p class="text-base-content/70">Customize daisyUI themes or create new ones</p>
        </div>

        <!-- Theme Selector -->
        <div class="mb-8">
          <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
              <h2 class="card-title">Select a base theme (40+ built-in themes)</h2>
              <div class="form-control">
                <label class="label">
                  <span class="label-text">Choose a theme to start with:</span>
                </label>
                <select id="themeSelect" class="select select-bordered w-full max-w-xs">
                  <option value="light">light</option>
                  <option value="dark">dark</option>
                  <option value="cupcake">cupcake</option>
                  <option value="bumblebee">bumblebee</option>
                  <option value="emerald">emerald</option>
                  <option value="corporate">corporate</option>
                  <option value="synthwave">synthwave</option>
                  <option value="retro">retro</option>
                  <option value="cyberpunk">cyberpunk</option>
                  <option value="valentine">valentine</option>
                  <option value="halloween">halloween</option>
                  <option value="garden">garden</option>
                  <option value="forest">forest</option>
                  <option value="aqua">aqua</option>
                  <option value="lofi">lofi</option>
                  <option value="pastel">pastel</option>
                  <option value="fantasy">fantasy</option>
                  <option value="wireframe">wireframe</option>
                  <option value="black">black</option>
                  <option value="luxury">luxury</option>
                  <option value="dracula">dracula</option>
                  <option value="cmyk">cmyk</option>
                  <option value="autumn">autumn</option>
                  <option value="business">business</option>
                  <option value="acid">acid</option>
                  <option value="lemonade">lemonade</option>
                  <option value="night">night</option>
                  <option value="coffee">coffee</option>
                  <option value="winter">winter</option>
                  <option value="dim">dim</option>
                  <option value="nord">nord</option>
                  <option value="sunset">sunset</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <!-- Color Customization -->
        <div class="mb-8">
          <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
              <h2 class="card-title mb-4">Colors</h2>

              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Primary -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Primary</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorPrimary" value="#570df8" class="color-preview">
                    <input type="text" id="colorPrimaryText" value="#570df8" class="input input-bordered input-sm flex-1">
                  </div>
                  <div class="color-input-group mt-2">
                    <span class="text-xs text-base-content/60">Content:</span>
                    <input type="color" id="colorPrimaryContent" value="#ffffff" class="color-preview w-8 h-8">
                    <input type="text" id="colorPrimaryContentText" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Secondary -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Secondary</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorSecondary" value="#f000b8" class="color-preview">
                    <input type="text" id="colorSecondaryText" value="#f000b8" class="input input-bordered input-sm flex-1">
                  </div>
                  <div class="color-input-group mt-2">
                    <span class="text-xs text-base-content/60">Content:</span>
                    <input type="color" id="colorSecondaryContent" value="#ffffff" class="color-preview w-8 h-8">
                    <input type="text" id="colorSecondaryContentText" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Accent -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Accent</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorAccent" value="#37cdbe" class="color-preview">
                    <input type="text" id="colorAccentText" value="#37cdbe" class="input input-bordered input-sm flex-1">
                  </div>
                  <div class="color-input-group mt-2">
                    <span class="text-xs text-base-content/60">Content:</span>
                    <input type="color" id="colorAccentContent" value="#ffffff" class="color-preview w-8 h-8">
                    <input type="text" id="colorAccentContentText" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Neutral -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Neutral</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorNeutral" value="#3d4451" class="color-preview">
                    <input type="text" id="colorNeutralText" value="#3d4451" class="input input-bordered input-sm flex-1">
                  </div>
                  <div class="color-input-group mt-2">
                    <span class="text-xs text-base-content/60">Content:</span>
                    <input type="color" id="colorNeutralContent" value="#ffffff" class="color-preview w-8 h-8">
                    <input type="text" id="colorNeutralContentText" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Base 100 -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Base 100</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorBase100" value="#ffffff" class="color-preview">
                    <input type="text" id="colorBase100Text" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Base 200 -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Base 200</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorBase200" value="#f2f2f2" class="color-preview">
                    <input type="text" id="colorBase200Text" value="#f2f2f2" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Base 300 -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Base 300</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorBase300" value="#e5e6e6" class="color-preview">
                    <input type="text" id="colorBase300Text" value="#e5e6e6" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Base Content -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Base Content</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorBaseContent" value="#1f2937" class="color-preview">
                    <input type="text" id="colorBaseContentText" value="#1f2937" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Info -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Info</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorInfo" value="#3abff8" class="color-preview">
                    <input type="text" id="colorInfoText" value="#3abff8" class="input input-bordered input-sm flex-1">
                  </div>
                  <div class="color-input-group mt-2">
                    <span class="text-xs text-base-content/60">Content:</span>
                    <input type="color" id="colorInfoContent" value="#ffffff" class="color-preview w-8 h-8">
                    <input type="text" id="colorInfoContentText" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Success -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Success</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorSuccess" value="#36d399" class="color-preview">
                    <input type="text" id="colorSuccessText" value="#36d399" class="input input-bordered input-sm flex-1">
                  </div>
                  <div class="color-input-group mt-2">
                    <span class="text-xs text-base-content/60">Content:</span>
                    <input type="color" id="colorSuccessContent" value="#ffffff" class="color-preview w-8 h-8">
                    <input type="text" id="colorSuccessContentText" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Warning -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Warning</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorWarning" value="#fbbd23" class="color-preview">
                    <input type="text" id="colorWarningText" value="#fbbd23" class="input input-bordered input-sm flex-1">
                  </div>
                  <div class="color-input-group mt-2">
                    <span class="text-xs text-base-content/60">Content:</span>
                    <input type="color" id="colorWarningContent" value="#ffffff" class="color-preview w-8 h-8">
                    <input type="text" id="colorWarningContentText" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>

                <!-- Error -->
                <div>
                  <label class="label"><span class="label-text font-semibold">Error</span></label>
                  <div class="color-input-group">
                    <input type="color" id="colorError" value="#f87272" class="color-preview">
                    <input type="text" id="colorErrorText" value="#f87272" class="input input-bordered input-sm flex-1">
                  </div>
                  <div class="color-input-group mt-2">
                    <span class="text-xs text-base-content/60">Content:</span>
                    <input type="color" id="colorErrorContent" value="#ffffff" class="color-preview w-8 h-8">
                    <input type="text" id="colorErrorContentText" value="#ffffff" class="input input-bordered input-sm flex-1">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Design Controls -->
        <div class="mb-8">
          <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
              <h2 class="card-title mb-4">Design Controls</h2>

              <div class="space-y-6">
                <!-- Border Radius -->
                <div>
                  <label class="label">
                    <span class="label-text font-semibold">Border Radius (rounded-box)</span>
                    <span class="label-text-alt" id="radiusValue">1rem</span>
                  </label>
                  <div class="range-input">
                    <input type="range" id="borderRadius" min="0" max="2" step="0.1" value="1" class="range range-primary flex-1">
                  </div>
                </div>

                <!-- Border Radius for Buttons -->
                <div>
                  <label class="label">
                    <span class="label-text font-semibold">Border Radius for Buttons (rounded-btn)</span>
                    <span class="label-text-alt" id="radiusBtnValue">0.5rem</span>
                  </label>
                  <div class="range-input">
                    <input type="range" id="borderRadiusBtn" min="0" max="2" step="0.1" value="0.5" class="range range-primary flex-1">
                  </div>
                </div>

                <!-- Border Radius for Badges -->
                <div>
                  <label class="label">
                    <span class="label-text font-semibold">Border Radius for Badges (rounded-badge)</span>
                    <span class="label-text-alt" id="radiusBadgeValue">1.9rem</span>
                  </label>
                  <div class="range-input">
                    <input type="range" id="borderRadiusBadge" min="0" max="2" step="0.1" value="1.9" class="range range-primary flex-1">
                  </div>
                </div>

                <!-- Border Width -->
                <div>
                  <label class="label">
                    <span class="label-text font-semibold">Border Width</span>
                    <span class="label-text-alt" id="borderWidthValue">1px</span>
                  </label>
                  <div class="range-input">
                    <input type="range" id="borderWidth" min="0.5" max="2" step="0.5" value="1" class="range range-primary flex-1">
                  </div>
                </div>

                <!-- Animation -->
                <div class="form-control">
                  <label class="label cursor-pointer justify-start gap-4">
                    <input type="checkbox" id="animationEnabled" checked class="toggle toggle-primary">
                    <span class="label-text font-semibold">Enable Animations</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Component Preview -->
        <div class="mb-8">
          <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
              <h2 class="card-title mb-4">Preview Components</h2>

              <!-- Buttons -->
              <div class="component-preview">
                <h3 class="font-bold mb-4">Buttons</h3>
                <div class="flex flex-wrap gap-2">
                  <button class="btn">Default</button>
                  <button class="btn btn-primary">Primary</button>
                  <button class="btn btn-secondary">Secondary</button>
                  <button class="btn btn-accent">Accent</button>
                  <button class="btn btn-neutral">Neutral</button>
                  <button class="btn btn-info">Info</button>
                  <button class="btn btn-success">Success</button>
                  <button class="btn btn-warning">Warning</button>
                  <button class="btn btn-error">Error</button>
                </div>
              </div>

              <!-- Cards -->
              <div class="component-preview">
                <h3 class="font-bold mb-4">Cards</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div class="card bg-base-100 shadow-xl">
                    <figure class="bg-primary/20 h-32"></figure>
                    <div class="card-body">
                      <h4 class="card-title">Card Title</h4>
                      <p>Sample card with image</p>
                      <div class="card-actions justify-end">
                        <button class="btn btn-primary btn-sm">Action</button>
                      </div>
                    </div>
                  </div>
                  <div class="card bg-base-100 shadow-xl">
                    <div class="card-body">
                      <h4 class="card-title">Simple Card</h4>
                      <p>Card without image</p>
                      <div class="card-actions justify-end">
                        <button class="btn btn-secondary btn-sm">Action</button>
                      </div>
                    </div>
                  </div>
                  <div class="card bg-primary text-primary-content shadow-xl">
                    <div class="card-body">
                      <h4 class="card-title">Colored Card</h4>
                      <p>Card with colored background</p>
                      <div class="card-actions justify-end">
                        <button class="btn btn-sm">Action</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Alerts -->
              <div class="component-preview">
                <h3 class="font-bold mb-4">Alerts</h3>
                <div class="space-y-2">
                  <div class="alert alert-info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span>Info alert</span>
                  </div>
                  <div class="alert alert-success">
                    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    <span>Success alert</span>
                  </div>
                  <div class="alert alert-warning">
                    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
                    <span>Warning alert</span>
                  </div>
                  <div class="alert alert-error">
                    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    <span>Error alert</span>
                  </div>
                </div>
              </div>

              <!-- Form Elements -->
              <div class="component-preview">
                <h3 class="font-bold mb-4">Form Elements</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label class="label"><span class="label-text">Text Input</span></label>
                    <input type="text" placeholder="Type here" class="input input-bordered w-full" />
                  </div>
                  <div>
                    <label class="label"><span class="label-text">Select</span></label>
                    <select class="select select-bordered w-full">
                      <option>Option 1</option>
                      <option>Option 2</option>
                    </select>
                  </div>
                  <div>
                    <label class="label cursor-pointer justify-start gap-2">
                      <input type="checkbox" checked class="checkbox checkbox-primary" />
                      <span class="label-text">Checkbox</span>
                    </label>
                  </div>
                  <div>
                    <label class="label cursor-pointer justify-start gap-2">
                      <input type="checkbox" checked class="toggle toggle-primary" />
                      <span class="label-text">Toggle</span>
                    </label>
                  </div>
                </div>
              </div>

              <!-- Badges -->
              <div class="component-preview">
                <h3 class="font-bold mb-4">Badges</h3>
                <div class="flex flex-wrap gap-2">
                  <span class="badge">Default</span>
                  <span class="badge badge-primary">Primary</span>
                  <span class="badge badge-secondary">Secondary</span>
                  <span class="badge badge-accent">Accent</span>
                  <span class="badge badge-info">Info</span>
                  <span class="badge badge-success">Success</span>
                  <span class="badge badge-warning">Warning</span>
                  <span class="badge badge-error">Error</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- CSS Output -->
        <div class="mb-8">
          <div class="card bg-base-200 shadow-xl">
            <div class="card-body">
              <h2 class="card-title mb-4">Generated CSS</h2>
              <p class="text-sm text-base-content/70 mb-4">Add this theme to your CSS file after <code class="bg-base-300 px-2 py-1 rounded">@plugin 'daisyui';</code></p>

              <div class="css-output" id="cssOutput">
                <pre>[data-theme="mytheme"] {
  color-scheme: light;
  --rounded-box: 1rem;
  --rounded-btn: 0.5rem;
  --rounded-badge: 1.9rem;
  --animation-btn: 0.25s;
  --animation-input: 0.2s;
  --btn-focus-scale: 0.95;
  --border-btn: 1px;
  --tab-border: 1px;
  --tab-radius: 0.5rem;

  --p: 262 80% 50%;
  --pc: 0 0% 100%;
  --s: 318 81% 47%;
  --sc: 0 0% 100%;
  --a: 175 62% 56%;
  --ac: 0 0% 100%;
  --n: 221 20% 29%;
  --nc: 0 0% 100%;
  --b1: 0 0% 100%;
  --b2: 0 0% 95%;
  --b3: 0 0% 90%;
  --bc: 221 39% 11%;
  --in: 198 93% 60%;
  --inc: 0 0% 100%;
  --su: 158 64% 52%;
  --suc: 0 0% 100%;
  --wa: 43 96% 56%;
  --wac: 0 0% 100%;
  --er: 0 91% 71%;
  --erc: 0 0% 100%;
}</pre>
              </div>

              <div class="card-actions justify-end mt-4">
                <button class="btn btn-primary" id="copyCssBtn">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                  Copy CSS
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script>
      // Theme data structure
      let currentTheme = {
        colors: {
          primary: '#570df8',
          primaryContent: '#ffffff',
          secondary: '#f000b8',
          secondaryContent: '#ffffff',
          accent: '#37cdbe',
          accentContent: '#ffffff',
          neutral: '#3d4451',
          neutralContent: '#ffffff',
          base100: '#ffffff',
          base200: '#f2f2f2',
          base300: '#e5e6e6',
          baseContent: '#1f2937',
          info: '#3abff8',
          infoContent: '#ffffff',
          success: '#36d399',
          successContent: '#ffffff',
          warning: '#fbbd23',
          warningContent: '#ffffff',
          error: '#f87272',
          errorContent: '#ffffff'
        },
        borderRadius: 1,
        borderRadiusBtn: 0.5,
        borderRadiusBadge: 1.9,
        borderWidth: 1,
        animationEnabled: true
      };

      // Sync color inputs (color picker and text input)
      function syncColorInputs(colorId, textId) {
        const colorInput = document.getElementById(colorId);
        const textInput = document.getElementById(textId);

        colorInput.addEventListener('input', (e) => {
          textInput.value = e.target.value;
          updateTheme();
        });

        textInput.addEventListener('input', (e) => {
          const value = e.target.value;
          if (/^#[0-9A-F]{6}$/i.test(value)) {
            colorInput.value = value;
            updateTheme();
          }
        });
      }

      // Initialize color input syncing
      syncColorInputs('colorPrimary', 'colorPrimaryText');
      syncColorInputs('colorPrimaryContent', 'colorPrimaryContentText');
      syncColorInputs('colorSecondary', 'colorSecondaryText');
      syncColorInputs('colorSecondaryContent', 'colorSecondaryContentText');
      syncColorInputs('colorAccent', 'colorAccentText');
      syncColorInputs('colorAccentContent', 'colorAccentContentText');
      syncColorInputs('colorNeutral', 'colorNeutralText');
      syncColorInputs('colorNeutralContent', 'colorNeutralContentText');
      syncColorInputs('colorBase100', 'colorBase100Text');
      syncColorInputs('colorBase200', 'colorBase200Text');
      syncColorInputs('colorBase300', 'colorBase300Text');
      syncColorInputs('colorBaseContent', 'colorBaseContentText');
      syncColorInputs('colorInfo', 'colorInfoText');
      syncColorInputs('colorInfoContent', 'colorInfoContentText');
      syncColorInputs('colorSuccess', 'colorSuccessText');
      syncColorInputs('colorSuccessContent', 'colorSuccessContentText');
      syncColorInputs('colorWarning', 'colorWarningText');
      syncColorInputs('colorWarningContent', 'colorWarningContentText');
      syncColorInputs('colorError', 'colorErrorText');
      syncColorInputs('colorErrorContent', 'colorErrorContentText');

      // Range inputs
      document.getElementById('borderRadius').addEventListener('input', (e) => {
        const value = e.target.value;
        document.getElementById('radiusValue').textContent = value + 'rem';
        currentTheme.borderRadius = parseFloat(value);
        updateTheme();
      });

      document.getElementById('borderRadiusBtn').addEventListener('input', (e) => {
        const value = e.target.value;
        document.getElementById('radiusBtnValue').textContent = value + 'rem';
        currentTheme.borderRadiusBtn = parseFloat(value);
        updateTheme();
      });

      document.getElementById('borderRadiusBadge').addEventListener('input', (e) => {
        const value = e.target.value;
        document.getElementById('radiusBadgeValue').textContent = value + 'rem';
        currentTheme.borderRadiusBadge = parseFloat(value);
        updateTheme();
      });

      document.getElementById('borderWidth').addEventListener('input', (e) => {
        const value = e.target.value;
        document.getElementById('borderWidthValue').textContent = value + 'px';
        currentTheme.borderWidth = parseFloat(value);
        updateTheme();
      });

      document.getElementById('animationEnabled').addEventListener('change', (e) => {
        currentTheme.animationEnabled = e.target.checked;
        updateTheme();
      });

      // Theme selector
      document.getElementById('themeSelect').addEventListener('change', (e) => {
        const theme = e.target.value;
        document.documentElement.setAttribute('data-theme', theme);
      });

      // Convert hex to HSL for CSS variables
      function hexToHSL(hex) {
        const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        if (!result) return '0 0% 0%';

        let r = parseInt(result[1], 16) / 255;
        let g = parseInt(result[2], 16) / 255;
        let b = parseInt(result[3], 16) / 255;

        const max = Math.max(r, g, b);
        const min = Math.min(r, g, b);
        let h, s, l = (max + min) / 2;

        if (max === min) {
          h = s = 0;
        } else {
          const d = max - min;
          s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

          switch (max) {
            case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
            case g: h = ((b - r) / d + 2) / 6; break;
            case b: h = ((r - g) / d + 4) / 6; break;
          }
        }

        h = Math.round(h * 360);
        s = Math.round(s * 100);
        l = Math.round(l * 100);

        return `${h} ${s}% ${l}%`;
      }

      // Update theme and CSS output
      function updateTheme() {
        // Get all color values
        const colors = {
          primary: document.getElementById('colorPrimaryText').value,
          primaryContent: document.getElementById('colorPrimaryContentText').value,
          secondary: document.getElementById('colorSecondaryText').value,
          secondaryContent: document.getElementById('colorSecondaryContentText').value,
          accent: document.getElementById('colorAccentText').value,
          accentContent: document.getElementById('colorAccentContentText').value,
          neutral: document.getElementById('colorNeutralText').value,
          neutralContent: document.getElementById('colorNeutralContentText').value,
          base100: document.getElementById('colorBase100Text').value,
          base200: document.getElementById('colorBase200Text').value,
          base300: document.getElementById('colorBase300Text').value,
          baseContent: document.getElementById('colorBaseContentText').value,
          info: document.getElementById('colorInfoText').value,
          infoContent: document.getElementById('colorInfoContentText').value,
          success: document.getElementById('colorSuccessText').value,
          successContent: document.getElementById('colorSuccessContentText').value,
          warning: document.getElementById('colorWarningText').value,
          warningContent: document.getElementById('colorWarningContentText').value,
          error: document.getElementById('colorErrorText').value,
          errorContent: document.getElementById('colorErrorContentText').value
        };

        // Generate CSS
        const css = `[data-theme="mytheme"] {
  color-scheme: light;
  --rounded-box: ${currentTheme.borderRadius}rem;
  --rounded-btn: ${currentTheme.borderRadiusBtn}rem;
  --rounded-badge: ${currentTheme.borderRadiusBadge}rem;
  --animation-btn: ${currentTheme.animationEnabled ? '0.25s' : '0s'};
  --animation-input: ${currentTheme.animationEnabled ? '0.2s' : '0s'};
  --btn-focus-scale: ${currentTheme.animationEnabled ? '0.95' : '1'};
  --border-btn: ${currentTheme.borderWidth}px;
  --tab-border: ${currentTheme.borderWidth}px;
  --tab-radius: ${currentTheme.borderRadiusBtn}rem;

  --p: ${hexToHSL(colors.primary)};
  --pc: ${hexToHSL(colors.primaryContent)};
  --s: ${hexToHSL(colors.secondary)};
  --sc: ${hexToHSL(colors.secondaryContent)};
  --a: ${hexToHSL(colors.accent)};
  --ac: ${hexToHSL(colors.accentContent)};
  --n: ${hexToHSL(colors.neutral)};
  --nc: ${hexToHSL(colors.neutralContent)};
  --b1: ${hexToHSL(colors.base100)};
  --b2: ${hexToHSL(colors.base200)};
  --b3: ${hexToHSL(colors.base300)};
  --bc: ${hexToHSL(colors.baseContent)};
  --in: ${hexToHSL(colors.info)};
  --inc: ${hexToHSL(colors.infoContent)};
  --su: ${hexToHSL(colors.success)};
  --suc: ${hexToHSL(colors.successContent)};
  --wa: ${hexToHSL(colors.warning)};
  --wac: ${hexToHSL(colors.warningContent)};
  --er: ${hexToHSL(colors.error)};
  --erc: ${hexToHSL(colors.errorContent)};
}`;

        document.getElementById('cssOutput').innerHTML = '<pre>' + css + '</pre>';

        // Apply theme to preview (create dynamic style)
        let styleElement = document.getElementById('dynamicThemeStyle');
        if (!styleElement) {
          styleElement = document.createElement('style');
          styleElement.id = 'dynamicThemeStyle';
          document.head.appendChild(styleElement);
        }
        styleElement.textContent = css.replace('[data-theme="mytheme"]', 'html');
      }

      // Copy CSS to clipboard
      document.getElementById('copyCssBtn').addEventListener('click', () => {
        const cssText = document.getElementById('cssOutput').textContent;
        navigator.clipboard.writeText(cssText).then(() => {
          const btn = document.getElementById('copyCssBtn');
          const originalText = btn.innerHTML;
          btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg> Copied!';
          setTimeout(() => {
            btn.innerHTML = originalText;
          }, 2000);
        });
      });

      // Initialize theme
      updateTheme();
    </script>
  </body>
</html>
